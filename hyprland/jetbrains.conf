# Fix odd behaviors in JetBrains IDEs
#
# Sources:
#   https://github.com/hyprwm/Hyprland/issues/1947#issuecomment-2690914693
#   https://github.com/fubuki4649/dotfiles/blob/491d3efbced300311eedb5c0a0fd290486fc5755/.config/hypr/hyprland.conf#L132-L147

# Fix focus issues when dialogs are opened or closed
windowrulev2 = focusonactivate,class:^(jetbrains-.*)$,floating:1
# Fix splash screen showing in weird places and prevent annoying focus takeovers
windowrulev2 = center,class:^(jetbrains-.*)$,title:^(splash)$,floating:1
windowrulev2 = nofocus,class:^(jetbrains-.*)$,title:^(splash)$,floating:1
windowrulev2 = noborder,class:^(jetbrains-.*)$,title:^(splash)$,floating:1

# Center popups/find windows
windowrulev2 = center,class:^(jetbrains-.*)$,title:^( )$,floating:1
# Enabling this makes it impossible to provide input to any popup dialogue (search window, new file, etc.)
windowrulev2 = stayfocused,class:^(jetbrains-.*)$,title:^( )$,floating:1
windowrulev2 = noborder,class:^(jetbrains-.*)$,title:^( )$,floating:1
# Disable window flicker when autocomplete or tooltips appear
windowrulev2 = noinitialfocus,class:^(jetbrains-.*)$,title:^(win.*)$,floating:1

